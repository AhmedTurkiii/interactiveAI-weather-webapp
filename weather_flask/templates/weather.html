<!-- weather.html -->
<!DOCTYPE html>
<!-- The above declaration defines this document as HTML5 -->

<html>
    <head>
        <!-- The head section contains meta-information about the document -->
        
        <!-- Title of the webpage -->
        <title>Weather App</title>
        <!-- This sets the title of the webpage, shown in the browser's title bar or tab -->
        <script>
            // JavaScript to play audio when the page has loaded
            document.addEventListener('DOMContentLoaded', function () {
                // Check if the weather description contains "rain", "thunder", or "sunny"
                var description = document.getElementById('weather-description').textContent.toLowerCase();
                
                if (description.includes("Patchy rain possible")) {
                    // Create an audio element for Patchy rain possible
                    var rainAudio = new Audio("{{ url_for('play_audio', filename='rainpossible_sound.mp3') }}");
                    // Play the Patchy rain possible audio
                    rainAudio.play();
                }else if (description.includes("rain")) {
                    // Create an audio element for rain
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='rain_sound.mp3') }}");
                    // Play the rain audio
                    sunnyAudio.play();
                }else if (description.includes("thunder")) {
                    // Create an audio element for thunder
                    var thunderAudio = new Audio("{{ url_for('play_audio', filename='thunder_sound.mp3') }}");
                    // Play the thunder audio
                    thunderAudio.play();
                } else if (description.includes("sunny")) {
                    // Create an audio element for sunny
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='sunny_sound.mp3') }}");
                    // Play the sunny audio
                    sunnyAudio.play();
                }else if (description.includes("windy")) {
                    // Create an audio element for windy
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='windy_sound.mp3') }}");
                    // Play the windy audio
                    sunnyAudio.play();
                }else if (description.includes("overcast")) {
                    // Create an audio element for overcast
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='overcast_sound.mp3') }}");
                    // Play the overcast audio
                    sunnyAudio.play();
                }else if (description.includes("mist")) {
                    // Create an audio element for mist
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='mist_sound.mp3') }}");
                    // Play the mist audio
                    sunnyAudio.play();
                }else if (description.includes("cloud")) {
                    // Create an audio element for cloud
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='cloud_sound.mp3') }}");
                    // Play the cloud audio
                    sunnyAudio.play();
                }else if (description.includes("clear")) {
                    // Create an audio element for clear
                    var sunnyAudio = new Audio("{{ url_for('play_audio', filename='clear_sound.mp3') }}");
                    // Play the clear audio
                    sunnyAudio.play();
                }
            });
        </script>
        <!-- Link to the external CSS file for styling -->
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
        <!-- This links a CSS file for styling the webpage. 'url_for' is a Flask function to find 'style.css' in the 'static' directory -->
    </head>
    <body class="bg">
        <!-- The body section contains all the content of the webpage -->
        <!-- 'class="bg"' applies a background style defined in the linked CSS file -->

        <!-- Centered container for the content of the page -->
        <div class="content-container">
            <!-- This div acts as a container with a specific layout and style -->

            <!-- Form for users to input a city name -->
            <form method="post" class="weather-form">
                <!-- The form sends data to the server using POST method -->

                <!-- Input field for users to enter a city name -->
                <input type="text" name="city" placeholder="Enter city name">
                <!-- 'placeholder' provides a hint about what to enter in this field -->

                <!-- Submit button for the form -->
                <input type="submit" value="Get Weather">
                <!-- On clicking this button, the form data is submitted to the server -->
            </form>

            <!-- Conditional content rendering based on whether 'weather' data is available -->
            {% if weather %}
                <!-- If 'weather' data is available, display it in this section -->
                <div id="weather-description">Description: {{ weather['current']['condition']['text'] }}</div>
                <!-- Container for weather information -->
                <div class="weather-info">
                    <!-- Each 'div' here displays a piece of weather information -->

                    <!-- Displaying the current temperature -->
                    <div>Current Temperature: {{ weather['current']['temp_f'] }}°F</div>
                    
                    <!-- Displaying the current weather description -->
                    <div>Description: {{ weather['current']['condition']['text'] }}</div>
                    
                    <!-- Displaying the wind speed -->
                    <div>Wind Speed: {{ weather['current']['wind_mph'] }} mph</div>
                    
                    <!-- Displaying the 'feels like' temperature -->
                    <div>Feels Like: {{ weather['current']['feelslike_f'] }}°F</div>
                    
                    <!-- Displaying the current moon phase -->
                    <div>Moon Phase: {{ weather['forecast']['forecastday'][0]['astro']['moon_phase'] }}</div>
                </div>
            {% else %}
                <!-- If no 'weather' data is available, display a message -->
                <div class="weather-info">Search for a valid city.</div>
            {% endif %}
        </div>
    </body>
</html>


